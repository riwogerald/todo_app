<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <%= form_with(model: task, local: true, class: "card shadow-sm border-0") do |form| %>
        <div class="card-header bg-primary text-white">
          <h5 class="mb-0">
            <%= task.persisted? ? "Edit Task" : "New Task" %>
          </h5>
        </div>
        
        <div class="card-body p-4">
          <% if task.errors.any? %>
            <div class="alert alert-danger" role="alert">
              <h6 class="alert-heading">Please fix the following errors:</h6>
              <ul class="mb-0">
                <% task.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
                <% end %>
              </ul>
            </div>
          <% end %>

          <div class="mb-4">
            <%= form.label :title, class: "form-label fw-semibold" %>
            <%= form.text_field :title, 
                class: "form-control form-control-lg", 
                placeholder: "Enter task description...",
                autofocus: true %>
          </div>

          <div class="mb-4">
            <div class="form-check form-switch">
              <%= form.check_box :completed, 
                  class: "form-check-input", 
                  role: "switch" %>
              <%= form.label :completed, "Mark as completed", 
                  class: "form-check-label" %>
            </div>
          </div>
        </div>

        <div class="card-footer bg-light d-flex justify-content-between">
          <%= link_to "Cancel", tasks_path, 
              class: "btn btn-outline-secondary" %>
          <%= form.submit task.persisted? ? "Update Task" : "Create Task", 
              class: "btn btn-primary" %>
        </div>
      <% end %>
    </div>
  </div>
</div>